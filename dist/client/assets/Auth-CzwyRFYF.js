import{u as g,r,i as u,j as s}from"./main-CLp2dwJg.js";function f(t){const a=g();return r.useCallback(async(...n)=>{try{const e=await t(...n);if(u(e))throw e;return e}catch(e){if(u(e))return e.options._fromLocation=a.state.location,a.navigate(a.resolveRedirect(e).options);throw e}},[a,t])}function y(t){const[a,n]=r.useState(),[e,o]=r.useState(),[m,c]=r.useState(),[b,p]=r.useState(),[x,l]=r.useState("idle"),h=r.useCallback(async d=>{l("pending"),n(Date.now()),o(d);try{const i=await t.fn(d);return await t.onSuccess?.({data:i}),l("success"),c(void 0),p(i),i}catch(i){l("error"),c(i)}},[t.fn]);return{status:x,variables:e,submittedAt:a,mutate:h,error:m,data:b}}function j({actionText:t,onSubmit:a,status:n,afterSubmit:e}){return s.jsx("div",{className:"fixed inset-0 bg-white dark:bg-black flex items-start justify-center p-8",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-lg shadow-lg",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:t}),s.jsxs("form",{onSubmit:o=>{o.preventDefault(),a(o)},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-xs",children:"Username"}),s.jsx("input",{type:"email",name:"email",id:"email",className:"px-2 py-1 w-full rounded-sm border border-gray-500/20 bg-white dark:bg-gray-800"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-xs",children:"Password"}),s.jsx("input",{type:"password",name:"password",id:"password",className:"px-2 py-1 w-full rounded-sm border border-gray-500/20 bg-white dark:bg-gray-800"})]}),s.jsx("button",{type:"submit",className:"w-full bg-cyan-600 text-white rounded-sm py-2 font-black uppercase",disabled:n==="pending",children:n==="pending"?"...":t}),e||null]})]})})}export{j as A,f as a,y as u};
